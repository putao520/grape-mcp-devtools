# Grape MCP DevTools 核心模块文档

## 📋 模块概览

本目录包含 Grape MCP DevTools 核心模块的设计文档。所有模块都基于简洁实用的设计原则，专注于MCP工具服务器的核心功能。

## 🏗️ 核心架构模块

### [MCP协议模块](mcp_protocol.md)
- **职责**: MCP协议的标准实现
- **功能**: 协议解析、消息处理、工具调用
- **重要性**: 核心基础模块

### [MCP客户端模块](mcp_client.md)
- **职责**: 外部MCP工具集成
- **功能**: 客户端连接、外部工具调用（如Playwright）
- **重要性**: 第三方工具集成

## 🔧 功能支持模块

### [语言特性模块](language_features.md)
- **职责**: 多语言生态系统支持
- **功能**: 语言检测、包管理器集成、生态特性分析
- **支持语言**: Rust、Python、JavaScript、Java、Go、Dart

### [文档处理模块](document_processing.md)
- **职责**: 文档搜索和处理
- **功能**: 文档搜索、API信息获取、内容格式化
- **数据源**: 第三方API（docs.rs、readthedocs等）

### [存储层模块](storage_layer.md)
- **职责**: 简单缓存和配置管理
- **功能**: 内存缓存、配置文件管理、临时数据存储
- **特点**: 轻量级、Windows友好

## 🛠️ 系统集成模块

### [CLI集成模块](cli_integration.md)
- **职责**: 本地开发工具集成
- **功能**: CLI工具检测、版本查询、环境验证
- **支持工具**: cargo、npm、pip、git等

### [动态注册模块](dynamic_registry.md)
- **职责**: MCP工具注册和管理
- **功能**: 工具发现、注册、调用路由
- **特点**: 运行时工具管理

### [Windows管理员检测](windows_admin.md)
- **职责**: Windows环境兼容性
- **功能**: 权限检测、环境验证、路径处理
- **目的**: 确保Windows环境下正常工作

### [工具自动安装器](tool_installer.md)
- **职责**: 开发工具安装检测
- **功能**: 工具存在性检测、安装引导
- **范围**: 检测而非实际安装

## 🔗 模块依赖关系

```
MCP协议模块 (核心基础)
    ├── MCP客户端模块 (外部工具集成)
    └── 动态注册模块 (工具管理)
        ├── 语言特性模块 (多语言支持)
        ├── 文档处理模块 (文档搜索)
        │   └── 存储层模块 (缓存支持)
        ├── CLI集成模块 (本地工具)
        ├── Windows管理员检测 (系统兼容)
        └── 工具自动安装器 (工具检测)
```

## 📊 模块开发状态

| 模块名称 | 设计状态 | 优先级 | Windows兼容 |
|---------|---------|-------|-------------|
| MCP协议模块 | ✅ 已设计 | 🔴 最高 | ✅ 兼容 |
| 动态注册模块 | ✅ 已设计 | 🔴 最高 | ✅ 兼容 |
| 语言特性模块 | ✅ 已设计 | 🟡 中等 | ✅ 兼容 |
| 文档处理模块 | ✅ 已设计 | 🟡 中等 | ✅ 兼容 |
| 存储层模块 | ✅ 已设计 | 🟡 中等 | ✅ 兼容 |
| MCP客户端模块 | ✅ 已设计 | 🟢 低等 | ✅ 兼容 |
| CLI集成模块 | ✅ 已设计 | 🟢 低等 | ✅ 兼容 |
| Windows管理员检测 | ✅ 已设计 | 🟢 低等 | ✅ 专用 |
| 工具自动安装器 | ✅ 已设计 | 🟢 低等 | ✅ 兼容 |

## 🎯 设计原则

### 1. 简洁实用
- 每个模块都专注于特定的功能
- 避免过度抽象和复杂设计
- 优先考虑实际使用场景

### 2. 第三方优先
- 优先使用成熟的第三方库和服务
- 避免重复造轮子
- 专注于集成而非实现

### 3. Windows兼容
- 所有模块都确保在Windows环境下正常工作
- 使用标准的Windows API和路径处理
- 支持PowerShell环境

### 4. 可测试性
- 所有模块都可以在真实环境下测试
- 避免需要复杂MOCK的功能
- 提供简单的集成测试

## 📖 阅读指南

### 🚀 新手入门
1. [MCP协议模块](mcp_protocol.md) - 理解核心MCP实现
2. [动态注册模块](dynamic_registry.md) - 了解工具注册机制
3. [语言特性模块](language_features.md) - 查看多语言支持

### 🔧 功能开发
1. 选择相关的功能模块文档
2. 了解模块的接口设计
3. 查看具体的实现指南

### 🏗️ 架构理解
1. 查看模块依赖关系图
2. 了解各模块的职责边界
3. 理解简化架构的设计思路

## 💡 扩展建议

### 短期目标
- 完善核心MCP协议实现
- 优化工具注册和管理机制
- 确保Windows环境兼容性

### 中期目标
- 扩展更多编程语言支持
- 增强文档搜索功能
- 改进缓存性能

### 长期目标
- 支持更多第三方工具集成
- 提供更丰富的开发环境检测
- 优化整体性能和稳定性

---

*模块文档版本：v3.0*  
*最后更新：2025年1月*  
*简化设计专注实用价值* 